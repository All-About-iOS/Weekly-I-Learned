프로세스가 운영체제의 최소 작업 단위 였다면,<br>
스레드는 프로세스의 최소 작업 단위이자, 실행 흐름의 단위이다.<br>
간단히 생각하면 운영체제 안에 프로세스, 프로세스 안에 스레드가 있단 소리지만, 조금 더 자세히 정리해보자.

# 스레드 ( Thread )

## 프로세스와 스레드

- 옛날에는 하나의 프로세스는 한 번에 하나의 일만 처리할 수 있었다. 이를 **단일 스레드 프로세스** 라고 한다.
- 여러 작업을 동시에 처리하고 싶으니.. 스레드의 갯수를 늘리게 되고, 이를 **멀티 스레드 프로세스** 라고 한다.

### 스레드의 구성요소

- 스레드ID, 프로그램 카운터 값, 레지스터 값, 스택
- 스레드는 이러한 실행에 필요한 최소한의 구성요소만을 유지한 채, **프로세스의 자원을 공유하며 실행**된다.

### 번외

- 리눅스에서는 프로세스와 스레드를 구분하지 않으며, **실행의 문맥(context of Execution)** 이라는 점에서 동등하게 본다.
- 프로세스와 스레드 대신 **태스크(Task)** 라고 말한다.

## 멀티 프로세스 vs 멀티 스레드

- 위에서 하나의 프로세스에 여러 개의 스레드가 있을 수 있다고 정리했다.
- 근데 운영체제에서 프로세스 갯수를 늘려 여러 작업을 수행하면 안 되었던 것일까? 왜 스레드를 늘렸을까?
    - 아래의 그림만 보더라도, 같은 동작이지만 차지하는 공간이 다른 것을 알 수 있다.
    - 모든 동작을 프로세스 단위로 나누게 된다면, 같은 자원을 사용하더라도 매 동작마다 새로운 프로세스를 생성하고 메모리에 적재해야 하는데, 이는 메모리 공간을 비효율적으로 활용하는 것으로 볼 수 있다.
    - 따라서 프로세스의 자원(코드, 데이터, 힙 등)을 공유하여 사용할 수 있는 멀티 스레드 방식을 떠올리게 된 것이다.
      <img src="https://github.com/JUNY0110/Weekly-I-Learned/assets/98405970/0b2bc7c7-1d10-45c9-9ae1-cab7ed959884" width=500>
    

- 멀티 프로세스와 멀티 스레드의 가장 큰 차이점은 **`프로세스 내 자원 공유의 유무`** 이다.
    - 프로세스끼리는 기본적으로 자원(코드, 데이터, 힙 영역 등의 모든 자원)을 공유하지 않는다.
        <img src="https://github.com/JUNY0110/Weekly-I-Learned/assets/98405970/9ccf3a4f-5582-484c-89d1-2fe43c67bb99" width=500>

        단일 스레드를 가진 멀티 프로세스
        
    
    - 반면, 프로세스 내의 스레드끼리는 자원(코드, 데이터, 힙 영역 등의 모든 자원)을 공유한다.

         <img src="https://github.com/JUNY0110/Weekly-I-Learned/assets/98405970/033be548-7874-433f-91f1-52f4e9285b2f" width=500>
        
        - 하지만, 프로세스의 자원을 공유한다는 것은 장점이자, 단점이 될 수 있다.
            - **멀티프로세스**
                - 장점
                    - 프로세스 간에는 자원을 공유하지 않기 때문에 하나의 프로세스에 문제가 생겨도 다른 프로세스에는 지장이 거의 없다. ( 높은 안정성 )
                - 단점
                    - 프로세스는 자원을 공유하지 않기 때문에
            - **멀티 스레드**
                - 프로세스 내부의 스레드가 문제가 생기면, 자원을 공유하는 다른 스레드에도 영향을 주며 이는 프로세스 전체에 문제를 일으킬 수 있기 때문이다. ( 낮은 안정성에 따른 관리 필요 )
                - 장점
                    - 스레드 간의 Context-Switching은 공유 자원을 이용하기 때문에 메모리 자원을 아낄 수 있으며
                    - Stack을 제외한 메모리가 공유되어 통신 부담이 줄어든다.
    

### 프로세스 간 통신(IPC, Inter-Process Communication)

- 프로세스 간에는 자원을 공유하지 않는다고 하였으나, 이는 ‘일반적인’ 이야기일 뿐이다.
- **프로세스 간 자원을 공유하고 데이터를 주고받는 것**을 IPC라고 한다. 그 방법으로는 다음의 방법들이 있다.
    - 파일을 통한 프로세스 간 통신
    - 공유 메모리(Shared Memory)를 통한 프로세스 간 통신
    - 소켓..
    - 파이프..
